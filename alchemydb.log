/*C3*/SET SCHEMA PUBLIC
CREATE TABLE IF NOT EXISTS PUBLIC.EFFECTS (id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY, title VARCHAR(255) NOT NULL, description VARCHAR(255))
CREATE TABLE IF NOT EXISTS PUBLIC.INGREDIENTS (ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY, NAME VARCHAR(255) NOT NULL)
CREATE TABLE IF NOT EXISTS PUBLIC.INGREDIENT_EFFECTS (ingredient_id INTEGER NOT NULL, effect_id INTEGER NOT NULL, PRIMARY KEY (ingredient_id, effect_id), FOREIGN KEY (ingredient_id) REFERENCES PUBLIC.INGREDIENTS(id), FOREIGN KEY (effect_id) REFERENCES PUBLIC.EFFECTS(id))
CREATE TABLE IF NOT EXISTS PUBLIC.PLAYERS (id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY, username VARCHAR(255) NOT NULL UNIQUE, password VARCHAR(255) NOT NULL, level INTEGER DEFAULT 1)
CREATE TABLE IF NOT EXISTS PUBLIC.INVENTORY (player_id INTEGER NOT NULL, ingredient_id INTEGER NOT NULL, quantity INTEGER NOT NULL, PRIMARY KEY (player_id, ingredient_id), FOREIGN KEY (player_id) REFERENCES PUBLIC.PLAYERS(id), FOREIGN KEY (ingredient_id) REFERENCES PUBLIC.INGREDIENTS(id))
CREATE TABLE IF NOT EXISTS PUBLIC.KNOWLEDGE_BOOK (player_id INTEGER NOT NULL, ingredient_id INTEGER NOT NULL, effect_id INTEGER NOT NULL, PRIMARY KEY (player_id, ingredient_id, effect_id), FOREIGN KEY (player_id) REFERENCES PUBLIC.PLAYERS(id), FOREIGN KEY (ingredient_id) REFERENCES PUBLIC.INGREDIENTS(id), FOREIGN KEY (effect_id) REFERENCES PUBLIC.EFFECTS(id))
CREATE TABLE IF NOT EXISTS PUBLIC.POTIONS (id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY, name VARCHAR(255) NOT NULL, ingredient1_id INTEGER, ingredient2_id INTEGER, description VARCHAR(1024), duration DOUBLE, brew_level INTEGER, bonus_dice VARCHAR(20), FOREIGN KEY (ingredient1_id) REFERENCES PUBLIC.INGREDIENTS(id), FOREIGN KEY (ingredient2_id) REFERENCES PUBLIC.INGREDIENTS(id))
CREATE TABLE IF NOT EXISTS PUBLIC.PLAYER_POTIONS (player_id INTEGER NOT NULL, potion_id INTEGER NOT NULL, quantity INTEGER NOT NULL, PRIMARY KEY (player_id, potion_id), FOREIGN KEY (player_id) REFERENCES PUBLIC.PLAYERS(id), FOREIGN KEY (potion_id) REFERENCES PUBLIC.POTIONS(id))
CREATE TABLE IF NOT EXISTS PUBLIC.POTION_EFFECTS (potion_id INTEGER NOT NULL, effect_id INTEGER NOT NULL, PRIMARY KEY (potion_id, effect_id), FOREIGN KEY (potion_id) REFERENCES PUBLIC.POTIONS(id), FOREIGN KEY (effect_id) REFERENCES PUBLIC.EFFECTS(id))
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DISCONNECT
